<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title></title>
    <description></description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Fri, 15 Aug 2025 08:55:59 -0700</pubDate>
    <lastBuildDate>Fri, 15 Aug 2025 08:55:59 -0700</lastBuildDate>
    <generator>Jekyll v4.4.1</generator>
    
      <item>
        <title>Making Claude Behave</title>
        <description>&lt;p&gt;&lt;em&gt;15th August, 2025&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;After hearing great things about the &lt;a href=&quot;https://www.anthropic.com/claude-code&quot;&gt;Claude code agent&lt;/a&gt;, I made the switch from Cursor, but becoming efficient was a bit of a struggle. So here are some notes to help other beginners get started with Claude code.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;For context ;) I am using Claude as a full stack engineer working on many existing codebases.&lt;/em&gt;&lt;/p&gt;

&lt;h3 id=&quot;basics&quot;&gt;Basics&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Create &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CLAUDE.md&lt;/code&gt; memory files, they are essential&lt;/li&gt;
  &lt;li&gt;The &lt;a href=&quot;https://cli.github.com/&quot;&gt;GitHub CLI&lt;/a&gt; tool is essential for efficient Claude usage&lt;/li&gt;
  &lt;li&gt;Use planning mode &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;shift + tab&lt;/code&gt; at the start of a session to create a detailed plan with clear requirements&lt;/li&gt;
  &lt;li&gt;Provide specific context: reference specific files with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@&lt;/code&gt;, paste server logs, drop screenshots, and link to Github issues&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;claude-memory-training&quot;&gt;Claude Memory Training&lt;/h3&gt;
&lt;p&gt;Similar to Cursor rules, &lt;a href=&quot;https://docs.anthropic.com/en/docs/claude-code/memory#determine-memory-type&quot;&gt;Claudeâ€™s memory&lt;/a&gt; is made of markdown files that hold its instructions and knowledge. These memory files are persistent context included in every sessions context. For improved results create a memory file for every directory you work from!&lt;/p&gt;

&lt;p&gt;You can have memory files at the global, project, and even subproject level. The files are not created by default, but you can create them with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/memory&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/init&lt;/code&gt; commands:&lt;/p&gt;

&lt;p&gt;More context improves results, but keep memory files focused. Donâ€™t bloat them with hundreds of hard to manage rules. Keep rules in their relevant file:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/claude-memory.png&quot; alt=&quot;Claude memory&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;user-memory&quot;&gt;User memory&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.claude/CLAUDE.md&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This is the user memory file where Claudeâ€™s global personality and behaviour rules can be set. For example, your preferred branch naming convention. Use this to make Claude always behave in certain ways:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;- Git branches should be prefixed with jules- and use camel case
- Git commit messages should be a brief single line message
- Avoid phrases like &quot;You&apos;re absolutely right&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://gist.github.com/Julesssss/170f73bb35dff22c110d3b56128b741c&quot;&gt;Hereâ€™s&lt;/a&gt; an example Claude file attempting to make Claude more analytical I found in a HackerNews comment that is working well.&lt;/p&gt;

&lt;h4 id=&quot;project-memory&quot;&gt;Project Memory&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/your-project/CLAUDE.md&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In each project directory this file holds project context. Include information such as project architecture, commands for running tests, links to style guides.&lt;/p&gt;

&lt;p&gt;Claudeâ€™s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/init&lt;/code&gt; command does a pretty good job of creating this project file for you. Or you can provide more specific instructions:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;em&gt;Analyse this codebase, summarise the projectâ€™s purpose, architecture, and key components, and relation to other repos, then create a claude project file&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;I had to review these files and remove some unnecessary sections, but Claude makes this easy: &lt;em&gt;â€˜Remove that migration section and any specific library versionâ€™&lt;/em&gt;&lt;/p&gt;

&lt;h4 id=&quot;subdirectory-memory&quot;&gt;Subdirectory Memory&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.../your-project/sub-directory/CLAUDE.md&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;You can go further and provide additional context for subdirectories. This is useful for documenting features that require more context.&lt;/p&gt;

&lt;p&gt;Do this where possible to avoid bloating the project level Claude file. Again you can ask Claude to help you create these files:Â &lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;em&gt;For the the following directories within this project, summarise the contents and purpose, then writing a claude file&lt;/em&gt;Â &lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/claude-init.png&quot; alt=&quot;Claude init&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;other-memory-stuff&quot;&gt;Other Memory Stuff&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/claude-rule.png&quot; alt=&quot;Claude rule&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#&lt;/code&gt; shortcut lets you quickly add a new rule to your current or main memory file&lt;/li&gt;
  &lt;li&gt;You can use a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/your-project/CLAUDE.local.md&lt;/code&gt; file for personal memory that builds on the teamâ€™s shared memory&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;models&quot;&gt;Models&lt;/h3&gt;

&lt;p&gt;As tempting as it is, you donâ€™t need the most expensive Opus model for great results. According to Anthropic itâ€™s overkill for most tasks. And expensive! This is just 7 work days of usage:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/claude-costs.png&quot; alt=&quot;Claude costs&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/model opus-plan&lt;/code&gt; for a balance between models. Itâ€™ll use Opus for initial discussion then will switch to Sonnet once you exit planning mode.&lt;/p&gt;

&lt;p&gt;Another tip is to set  the Sonnet model as default, then create a sub agent for specific purposes that uses the more expensive Opus model.&lt;/p&gt;

&lt;p&gt;Still it is way more expensive that using the same agents in Cursorâ€¦ It doesnâ€™t take long to hit the limit of my personal subscription.&lt;/p&gt;

&lt;h3 id=&quot;agents&quot;&gt;Agents&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;https://docs.anthropic.com/en/docs/claude-code/sub-agents&quot;&gt;Agents&lt;/a&gt; are specialised Claude instances for a specific task with a fresh context.  Define an agent once and Claude will automatically delegate relevant tasks to it, assuming your agents are defined clearly.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/claude-subagent.png&quot; alt=&quot;Claude agents&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Claude will help you create agents with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/agent&lt;/code&gt; command, or you can copy one of the many &lt;a href=&quot;https://github.com/wshobson/agents&quot;&gt;examples&lt;/a&gt; online such as &lt;a href=&quot;https://github.com/qdhenry/Claude-Command-Suite/blob/main/.claude/agents/code-auditor.md&quot;&gt;code reviewer&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Copying them is as simple pasting the markdown file into &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/Users/jules/.claude/agents&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Code reviewer is an easy starting agent, but I would suggest creating agents as you find yourself repeating prompts, rather than copying specialised agents. I was very excited to get my first custom &lt;a href=&quot;https://gist.github.com/Julesssss/3e65b2b461ad8a5d9c41a53f7e82f876&quot;&gt;raise-pr&lt;/a&gt; agent working.&lt;/p&gt;

&lt;p&gt;A workflow that is working well for me is to spend as much time as possible in plan mode, and to refactor as much repeated prompting as possible to specialised agents:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://gist.github.com/Julesssss/8aa9d57785a22dd21758e07dc1997b5f&quot;&gt;triage agent &lt;/a&gt;&amp;gt;  implement &amp;gt; &lt;a href=&quot;https://gist.github.com/Julesssss/d4b190f2d7d73847e4d9abd7ce4c3a9c&quot;&gt;code-review agent&lt;/a&gt;, commit changes, &lt;a href=&quot;https://gist.github.com/Julesssss/3e65b2b461ad8a5d9c41a53f7e82f876&quot;&gt;raise pr agent&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;permissions&quot;&gt;Permissions&lt;/h3&gt;

&lt;p&gt;Claude asks for permissions the first time it does specific actions such as reading a GitHub issue or running a bash command. It repeats this for each new directory, but you can simply ask Claude to copy an existing file to prevent this.&lt;/p&gt;

&lt;p&gt;Add the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;settings.local.json&lt;/code&gt; file to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.gitignore&lt;/code&gt; to avoid this annoying diff. I guess you could use a similar file to set repository level rules for all contributors but havenâ€™t tried this.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/claude-permissions.png&quot; alt=&quot;Claude permissions settings&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;multiple-accounts&quot;&gt;Multiple accounts&lt;/h3&gt;

&lt;p&gt;Finally, itâ€™s &lt;a href=&quot;https://julesrosser.com/blog/Multiple-Claude-accounts.html&quot;&gt;easy&lt;/a&gt; to separate your personal and work accounts using an alias. Maybe this could be used to give Claude different personalities.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;alias claude-personal=&quot;CLAUDE_CONFIG_DIR=~/.claude-personal claude&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;links&quot;&gt;Links&lt;/h3&gt;

&lt;p&gt;Here are some cool links for more advanced Claude usage:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/jamesponddotco/llm-prompts/blob/trunk/data/socratic-coder.md&quot;&gt;Socratic Coder&lt;/a&gt; &amp;lt; thorough project planning through conversation&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://news.ycombinator.com/item?id=44836879&quot;&gt;Getting good results from Claude Code&lt;/a&gt; &amp;lt; Interesting HN discussion&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://youtu.be/gv0WHhKelSE?si=AV7iMsFbcvYPSA8L&quot;&gt;Claude Code Best Practices&lt;/a&gt; &amp;lt; Presentation from Anthropic&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/qdhenry/Claude-Command-Suite/tree/main/.claude/agents&quot;&gt;Claude command suite agents&lt;/a&gt; &amp;lt; advanced Claude workflows&lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Fri, 15 Aug 2025 00:00:00 -0700</pubDate>
        <link>http://localhost:4000/blog/Making-Claude-Behave.html</link>
        <guid isPermaLink="true">http://localhost:4000/blog/Making-Claude-Behave.html</guid>
        
        
        <category>blog</category>
        
      </item>
    
      <item>
        <title>Twinkle</title>
        <description>&lt;p&gt;&lt;em&gt;8th August, 2025&lt;/em&gt;&lt;/p&gt;

&lt;h3 id=&quot;twinkle&quot;&gt;Twinkle&lt;/h3&gt;

&lt;p&gt;Meet Twinkle, a British tabby adopted as a rescue in 2022. It didnâ€™t take long to abandon the idea of renaming her.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/twinkle2.jpg&quot; alt=&quot;Twinkle sunbathing&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Twinkle loves the sun so was very happy to move to California.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/twinkle1.jpg&quot; alt=&quot;Twinkle with glasses&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/twinkle3.jpg&quot; alt=&quot;Twinkle on her throne&quot; /&gt;&lt;/p&gt;

</description>
        <pubDate>Fri, 08 Aug 2025 00:00:00 -0700</pubDate>
        <link>http://localhost:4000/cats/twinkle.html</link>
        <guid isPermaLink="true">http://localhost:4000/cats/twinkle.html</guid>
        
        
        <category>cats</category>
        
      </item>
    
      <item>
        <title>Multiple Claude Accounts</title>
        <description>&lt;p&gt;&lt;em&gt;6th August, 2025&lt;/em&gt;&lt;/p&gt;

&lt;h3 id=&quot;multiple-claude-accounts&quot;&gt;Multiple Claude accounts&lt;/h3&gt;

&lt;p&gt;If you have a personal and work Claude subscription you need a way of switching between them. Logging out and back in is obviously terrible.&lt;/p&gt;

&lt;p&gt;It seems the best way to do this is by setting multiple Claude config directories using the undocumented &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CLAUDE_CONFIG_DIR&lt;/code&gt; env.&lt;/p&gt;

&lt;p&gt;Just add something like this to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.zshrc&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.bashrc&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;alias &lt;/span&gt;claude-personal&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;CLAUDE_CONFIG_DIR=~/.claude-personal claude&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then you can separate work and personal sessions, or run both simultaneously. Conversations and config will be kept separate. Easy.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/claude-multiple-1.png&quot; alt=&quot;Multiple Claude sessions&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/claude-multiple-2.png&quot; alt=&quot;Claude personal session&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Wed, 06 Aug 2025 00:00:00 -0700</pubDate>
        <link>http://localhost:4000/blog/Multiple-Claude-accounts.html</link>
        <guid isPermaLink="true">http://localhost:4000/blog/Multiple-Claude-accounts.html</guid>
        
        
        <category>blog</category>
        
      </item>
    
      <item>
        <title>Betrayal Companion App</title>
        <description>&lt;p class=&quot;datestyle&quot;&gt;October 2019&lt;/p&gt;
&lt;p class=&quot;project-type&quot;&gt;Personal project&lt;/p&gt;

&lt;p&gt;Character attribute tracker for â€˜Betrayal at the House on the Hillâ€™ board game, replacing the provided character cards.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Removes the need to track attributes with the included character cards.&lt;/li&gt;
  &lt;li&gt;Play with multiple characters from the same colour (player limit increases to 12).&lt;/li&gt;
  &lt;li&gt;Attributes are persisted to device, so that games can be continued at a later date.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;../../assets/images/betrayal-characters.png#appscreen&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;../../assets/images/betrayal-selection.png#appscreen&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;../../assets/images/betrayal-characters.png#appscreen&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://play.google.com/store/apps/details?id=julesssss.github.betrayal&quot;&gt;View on the PlayStore&lt;/a&gt;&lt;/p&gt;
</description>
        <pubDate>Sun, 20 Oct 2019 00:00:00 -0700</pubDate>
        <link>http://localhost:4000/project/betrayal-companion-app.html</link>
        <guid isPermaLink="true">http://localhost:4000/project/betrayal-companion-app.html</guid>
        
        
        <category>project</category>
        
      </item>
    
      <item>
        <title>Android Data Binding: A Practical Experience</title>
        <description>&lt;p&gt;&lt;em&gt;1st March, 2019&lt;/em&gt;&lt;/p&gt;

&lt;h3 id=&quot;our-journey-with-the-data-binding-library-while-building-a-large-greenfield-application&quot;&gt;Our journey with the Data Binding library while building a large greenfield application.&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn-images-1.medium.com/max/3528/1*SfBCpqeC_45tLKHpIl35gA.jpeg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;At &lt;a href=&quot;https://medium.com/@Ostmodern&quot;&gt;Ostmodern&lt;/a&gt;, we build a variety of mobile applications with a focus on VOD, OTT and sports. While the apps vary in functionality, the Android team uses a proven architectural design throughout each project, which is constantly refined and improved. Our current structure is a combination of MVVM (Model-View-ViewModel), with heavy usage of Dagger for dependency injection, and RxJava for data flows.&lt;/p&gt;

&lt;p&gt;We love experimenting with new technology and regularly discuss new patterns and libraries as a team. Our architecture is heavily influenced by these discussions and our early adoption of &lt;strong&gt;Kotlin&lt;/strong&gt; and move from Model-View-Presenter to MVVM are some previous outcomes of these talks.&lt;/p&gt;

&lt;p&gt;In the lead up to our latest project kick-off, we reignited our previous &lt;a href=&quot;https://developer.android.com/topic/libraries/architecture/room&quot;&gt;Room&lt;/a&gt; vs &lt;a href=&quot;https://realm.io/&quot;&gt;Realm&lt;/a&gt; data persistence debate. Googleâ€™s new library (Room) is built on top of SQLite, making it a powerful and lightweight competitor to the popular Realm library, which is commonly used for its ease of use when working with complex model relationships.&lt;/p&gt;

&lt;p&gt;Migrating to Room had appealed to us for the above-mentioned reasons and also because it plugs into RxJava right out of the box, but a stable build wasnâ€™t available last time around. This time, we nearly went with Room. In the end, we decided to stick with Realm as the new project data structure consisted of a &lt;strong&gt;complex class hierarchy&lt;/strong&gt;. While class relationships can be managed in Room, they require a bit of boilerplate and we felt the implementation would be much simpler to handle with Realm, especially with our prior usage of the library.&lt;/p&gt;

&lt;p&gt;A second discussion was focused on &lt;a href=&quot;https://developer.android.com/topic/libraries/data-binding/&quot;&gt;Data Binding&lt;/a&gt;. As a technique, it isnâ€™t new. It exists in many frameworks and was introduced to Android back in 2015 â€” yet it is often cast aside.&lt;/p&gt;

&lt;p&gt;We had chosen MVVM for a better separation of concerns and reduced view logic, thus Data Binding seemed an obvious choice for additional research: it enhanced both of these and could easily extend our existing architecture without major restructuring.&lt;/p&gt;

&lt;h3 id=&quot;introducing-data-binding&quot;&gt;Introducing Data Binding&lt;/h3&gt;

&lt;p&gt;Data Binding aims to simplify the process of updating UI components with data. By binding UI components directly to ViewModel properties, we could remove the need for UI framework calls in our Fragments/Activities.&lt;/p&gt;

&lt;p&gt;Google recommended that developers use the Data Binding library for improved memory usage and performance, but the &lt;strong&gt;simplicity and reduced boilerplate&lt;/strong&gt; was also appealing to us.&lt;/p&gt;

&lt;p&gt;Say goodbye to countless lines of boring code!&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;profileTextName.text = model.profileName
profileTextSubtitle.text = model.profileSubtitle
profileTextHeader.text = model.profileHeader
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With Data Binding, TextViews, EditTexts and other View classes state their data source directly in the XML layout file and will observe these fields for changes with &lt;a href=&quot;https://developer.android.com/topic/libraries/data-binding/start&quot;&gt;minimal setup&lt;/a&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;lt;layout
    &amp;lt;data&amp;gt;
        &amp;lt;variable
            name=&quot;viewModel&quot;
            type=&quot;package.profile.ProfileViewModel&quot; /&amp;gt;
    &amp;lt;/data&amp;gt;

    &amp;lt;TextView&amp;gt;
        ...        
        android:text=&quot;@={viewModel.profileName}&quot; /&amp;gt;

&amp;lt;/layout&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Shown above is a Data Binding compatible layout file. Layouts now have a reference to the related ViewModel (or presenter if using MVP). This allows us to keep logic out of our Fragments and Activities, &lt;strong&gt;making our project easier to test and debug&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Data Binding seemed useful and an obvious choice for further research, as it could extend to our existing architecture without considerable changes, so we gave it a go.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn-images-1.medium.com/max/10326/1*IrRvF5R4I8PfjnxIoYTzAQ.jpeg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/Julesssss/Android-MVVM&quot;&gt;Early investigations&lt;/a&gt; seemed promising. Not only did it require less code, but our IDE (Android Studio) also had built-in support for converting layouts to Data Binding compatible files, and it led to a better separation of logic from views â€” one of our primary concerns.&lt;/p&gt;

&lt;p&gt;This encouraged us to attempt wider usage. We were interested in what issues might arise at scale, but eager to find out more. To that end, when the new project kicked off, we started building the first features with Data Binding.&lt;/p&gt;

&lt;h3 id=&quot;1-month-later-first-impressions&quot;&gt;â€¦1 Month later: First Impressions&lt;/h3&gt;

&lt;p&gt;Initially, our usage didnâ€™t stray far from our previous investigations. The early features were simple and our UI components observed fields in the ViewModel without issue. We enjoyed our clean and simple Fragments.&lt;/p&gt;

&lt;p&gt;It felt like we were learning the Android platform all over again. Want to add a TextChangedListener? Need to bind to an included layout? Progress wasnâ€™t fast. As early adopters we had to navigate a reduced knowledge base, but &lt;strong&gt;each new discovery felt rewarding&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;While it took us a while to work out our general approach to Data Binding, we were happy to find that views were less dependent on logic for determining state.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;It felt like a natural iteration to our architecture.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;We also started to work out our rules and exceptions. One of our team members suggested that we shouldnâ€™t bind function calls to the onClick attribute in layout files. She had used Data Binding previously for a different platform and found that functionality became obfuscated and hard to read.&lt;/p&gt;

&lt;p&gt;Tracing function calls back to the originating view click was time-consuming. By keeping UI component clicks in code, it again became simple to get an overview of flow when revisiting unfamiliar pages.&lt;/p&gt;

&lt;p&gt;The real benefit wasnâ€™t initially obvious, but soon felt completely natural. Because UI components state were bound to ViewModel properties, we became able to further integrate RxJava to our architecture. Single subscribe-able Rx flows which emitted state changes was &lt;strong&gt;the dream for functional programming proponents&lt;/strong&gt;. This became easily achievable within our ViewModels thanks to data bound properties.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;var registerButtonEnabled = false
var progressBarVisible = false
var errorMessageVisible = false

userRepository.registerSocial(...)
        .doOnSubscribe {
            progressBarVisible = true
            registerButtonEnabled = false
            errorMessageVisible = false
            notifyChange()
        }.doOnError {
            progressBarVisible = false
            registerButtonEnabled = true
            errorMessageVisible = true
            notifyChange()
        }.doFinally {
            progressBarVisible = false
            registerButtonEnabled = true
            notifyChange()
        }
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As the xml layouts observed the ViewModels properties shown above, state could be controlled from a simple Rx chain: an excellent way to move logic from views and allow them to be tested with ease.&lt;/p&gt;

&lt;h3 id=&quot;3-months-later-second-thoughts&quot;&gt;â€¦3 Months later: Second thoughts&lt;/h3&gt;

&lt;p&gt;One of the first complications we found with Data Binding was with loading images. A simple task, but one which usually requires an Image loading library for accessible and &lt;strong&gt;hassle-free image caching&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;However, we quickly found that we couldnâ€™t use the library from within the layout file like we could for setting text â€” requiring us to revert to old methods. Mixing old and new techniques led us &lt;em&gt;away&lt;/em&gt; from our desired clean and readable code.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;fun onBindView(_profile: Profile) {

    // simple and clean data binding
    binding.profile= _profile

    // old methods returned to haunt us
    profileImageUser.loadWithGlide(_profile.imageUrl)
    profileImageCountryFlag.loadWithGlide(_profile.flagUrl)
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;One solution to this was to create a custom ImageView class and add specific image library functions that could be called from the XML file. On the other hand, we worried that glueing libraries to custom views was not scaleable and went against our desire for separation of concerns.&lt;/p&gt;

&lt;p&gt;Unfortunately, this wasnâ€™t the only thing that we couldnâ€™t solve with Data Binding. Another essential Android UI Component is &lt;strong&gt;EditText&lt;/strong&gt;, used for user input. In our case, we needed to listen for input changes so that we could enable/disable the Login button depending on whether all input fields were filled.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; */
 * Called when EditText values are changed. Used to disable button
 * when all fields are not complete. Needs to be delayed as bound
 * inputs are updated after this function is called.
 */
 fun onInputChanged(s: CharSequence, ...) {
    delay({
        loginButtonEnabled =
           inputUsername.isNotEmpty() &amp;amp;&amp;amp; inputPassword.isNotEmpty()
        notifyChange()
    }, 50)
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The problem was that data bound fields inputUsername &amp;amp; inputPassword were not being updated fast enough when using Data Binding. When receiving an onInputChanged callback from the EditText, the ViewModel hadnâ€™t yet registered the new values â€” meaning that we had to add an artificial delay!&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;More issues became apparent at scale&lt;/strong&gt;. Navigating a large code base where old features became unfamiliar was tricky. Adapters required generated binding classes, rather than a clickable layout resource Id during setup. Therefore, navigation between classes became less simple. We had to decipher generated class names to find the layout files. Annoying *and *time consuming in a project with over 140 layout files.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Later on we learnt that the generated class bindings are customisable and &lt;a href=&quot;https://developer.android.com/topic/libraries/data-binding/generated-binding#custom_binding_class_names&quot;&gt;can be renamed&lt;/a&gt;, solving the deciphering problem.&lt;/em&gt;&lt;/p&gt;

&lt;h3 id=&quot;-6-months-later-reflecting-on-our-experience&quot;&gt;â€¦ 6 months later: Reflecting on our experience&lt;/h3&gt;

&lt;p&gt;As the project came to an end we sat down to review our experiences with Data Binding.&lt;/p&gt;

&lt;p&gt;We loved that this technique let us &lt;strong&gt;move logic out of our View classes&lt;/strong&gt; and made future changes fast once initially set up. However, while we hadnâ€™t expected the process of using it in a large project to be without issue, we felt that the workarounds and exceptions reduced and sometimes &lt;em&gt;nullified&lt;/em&gt; the benefits of Data Binding usage.&lt;/p&gt;

&lt;p&gt;Simplifying our view classes, increased separation and better state management were t&lt;strong&gt;he desired objectives&lt;/strong&gt; and outcomes. While Data Binding helped us to achieve these, many more issues than we had hoped for emerged.&lt;/p&gt;

&lt;p&gt;We had also since been informed about more recent, better solutions to help us achieve the above-stated goals. Our current favourite being a Redux/Model-View-Intent influenced ViewState management pattern which facilitates View classes with immutable state data classes, making more of the business logic testable. This can be extended with a modularised state reducer, responsible for taking actions and manipulating state.&lt;/p&gt;

&lt;p&gt;Important lessons were learned and we donâ€™t regret attempting to use the library, but have decided as a team not to give Data Binding a place in our base architecture for future projects. Instead, we will be focusing on the referenced ViewState pattern for better state management.&lt;/p&gt;

&lt;p&gt;With that said, &lt;strong&gt;Data Binding shouldnâ€™t be overlooked&lt;/strong&gt; as a library for simple or minimum viable products and there may be new or missed solutions to the issues we faced. Our advice would be for you to investigate the libraryâ€™s pitfalls with your own project in mind and ensure that rules and guidelines on its use are defined before committing fully.&lt;/p&gt;

&lt;h2 id=&quot;thank-you-for-reading&quot;&gt;Thank you for reading!&lt;/h2&gt;
</description>
        <pubDate>Fri, 01 Mar 2019 00:00:00 -0800</pubDate>
        <link>http://localhost:4000/blog/Android-Data-Binding-A-practical-experience.html</link>
        <guid isPermaLink="true">http://localhost:4000/blog/Android-Data-Binding-A-practical-experience.html</guid>
        
        
        <category>blog</category>
        
      </item>
    
      <item>
        <title>Arsenal Football Club</title>
        <description>&lt;p class=&quot;datestyle&quot;&gt;July 2018 - February 2019&lt;/p&gt;
&lt;p class=&quot;project-type&quot;&gt;Professional project&lt;/p&gt;

&lt;p&gt;The official Arsenal FC app. Supports live video streaming and audio commentary of matches, live match day feed with push notifications, news articles, fixtures, league table and player profiles.&lt;/p&gt;

&lt;p&gt;The project follows the MVVM pattern (Model-View-ViewModel). Technologies used include Dagger2, RxJava/RxAndroid, Realm and Android architecture components.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../assets/images/arsenal-video.png#appscreen&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;../../assets/images/arsenal-match-center.png#appscreen&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;../../assets/images/arsenal-table.png#appscreen&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://play.google.com/store/apps/details?id=com.arsenal.official&amp;amp;hl=en&quot;&gt;View on the PlayStore&lt;/a&gt;&lt;/p&gt;
</description>
        <pubDate>Mon, 25 Feb 2019 00:00:00 -0800</pubDate>
        <link>http://localhost:4000/project/arsenal-football-club.html</link>
        <guid isPermaLink="true">http://localhost:4000/project/arsenal-football-club.html</guid>
        
        
        <category>project</category>
        
      </item>
    
      <item>
        <title>Nasa Astronomy Photo Of The Day</title>
        <description>&lt;p class=&quot;project-type&quot;&gt;Personal project&lt;/p&gt;

&lt;p&gt;A Kotlin Android app demonstrating a modern architecture consisting of Kotlin, MVVM, RxJava, Koin, LiveData and lifecycle aware ViewModels.&lt;/p&gt;

&lt;p&gt;View state is represented by an immutable data class emitted as a LiveData subscription from the ViewModels.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/Julesssss/Nasa-photo-of-the-day&quot;&gt;View project on Github&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../assets/images/apod-list.png#appscreen&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;../../assets/images/apod-detail.png#appscreen&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;architecture&quot;&gt;Architecture&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93viewmodel&quot;&gt;MVVM&lt;/a&gt;, &lt;a href=&quot;https://developer.android.com/topic/libraries/architecture/viewmodel&quot;&gt;Android Arch ViewModel&lt;/a&gt;, &lt;a href=&quot;https://github.com/ReactiveX/RxJava&quot;&gt;RxJava&lt;/a&gt;, &lt;a href=&quot;https://github.com/ReactiveX/RxAndroid&quot;&gt;RxAndroid&lt;/a&gt;, &lt;a href=&quot;https://developer.android.com/topic/libraries/architecture/livedata&quot;&gt;LiveData&lt;/a&gt;, &lt;a href=&quot;https://insert-koin.io/&quot;&gt;Koin&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;testing&quot;&gt;Testing&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://junit.org/junit4/&quot;&gt;Junit&lt;/a&gt;, &lt;a href=&quot;http://site.mockito.org/&quot;&gt;Mockito&lt;/a&gt;, &lt;a href=&quot;https://developer.android.com/training/testing/espresso/&quot;&gt;Espresso&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;building-the-project&quot;&gt;Building the project&lt;/h3&gt;

&lt;p&gt;To build the project, you will need your own auth token for the NASA APOD API (&lt;a href=&quot;https://api.nasa.gov/index.html#apply-for-an-api-key&quot;&gt;sign up here&lt;/a&gt;). If you donâ€™t follow the steps below, the project will not compile.&lt;/p&gt;

&lt;p&gt;Once you have a key, you will need to make it available as a gradle.properties file. Navigate to â€˜$HOME/.gradle/â€™ and if a gradle.properties file does not exist, create it.&lt;/p&gt;

&lt;p&gt;Add the following to the gradle.properties file, replacing XYZ for your NASA API key.&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;nasaApiKey=&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After a project refresh, you should see the gradle.properties file in the Android Studio project browser view under â€˜Gradle Scriptsâ€™. Switch to the Android view if you donâ€™t see â€˜Gradle Scriptsâ€™&lt;/p&gt;
</description>
        <pubDate>Sat, 10 Nov 2018 00:00:00 -0800</pubDate>
        <link>http://localhost:4000/project/nasa-astronomy-photo-of-the-day.html</link>
        <guid isPermaLink="true">http://localhost:4000/project/nasa-astronomy-photo-of-the-day.html</guid>
        
        
        <category>project</category>
        
      </item>
    
      <item>
        <title>Handling Gradle Dependencies In Modularised Android Projects</title>
        <description>&lt;p&gt;&lt;em&gt;28th October, 2018&lt;/em&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;How do I share dependencies between Android modules?&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;With the benefits that modularised projects bring it would seem like this should be a solved problem, but itâ€™s only recently that a good solution to managing multi-module dependencies has become available.&lt;/p&gt;

&lt;p&gt;As of late 2017, there was no satisfactory solution to this problem. The best option was to declare dependency version strings in a shared build.gradle file to ensure that each module implemented the same version of the library.&lt;/p&gt;

&lt;p&gt;This works, but the repetition isnâ€™t great and the solution doesnâ€™t scale well as module count and complexity increasesâ€¦&lt;/p&gt;

&lt;h2 id=&quot;introducing-gradle-40-&quot;&gt;Introducing Gradle 4.0 ðŸŽ‰&lt;/h2&gt;

&lt;p&gt;In October 2017 Gradle 4.0 was released along with &lt;a href=&quot;https://developer.android.com/studio/releases/gradle-plugin#3-0-0&quot;&gt;Android Gradle plugin 3.0.0&lt;/a&gt;. Some of the improvements included faster build speeds due to better parallelism, Java 8 support for certain features and faster incremental builds.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn-images-1.medium.com/max/3140/1*AgyiBkXlpmtwBi4LKq3E2Q.png&quot; alt=&quot;Supposed improvements to a 130 module skeleton project.&quot; /&gt;&lt;/p&gt;

&lt;p&gt;However, the change that weâ€™re interested in was the addition of new Gradle dependency configurations.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Hopefully by now youâ€™re already using Gradle 4.0+ with Android Studio Gradle plugin 3.0.0+, but if not youâ€™ll first need to &lt;a href=&quot;https://developer.android.com/studio/releases/gradle-plugin&quot;&gt;update&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&quot;new-dependency-configurations&quot;&gt;New dependency configurations&lt;/h2&gt;

&lt;p&gt;Two new dependency configurations replace &lt;strong&gt;â€˜compileâ€™&lt;/strong&gt; and allow us to decide whether a modules Gradle dependencies are accessible to &lt;strong&gt;any other module which depends upon it&lt;/strong&gt;, or &lt;strong&gt;only within the module&lt;/strong&gt;. (a simple comparison is using public/private to set the visibility of variables/functions). This allows us to keep a clear layer of separation between modules while removing the repetition of declaring dependencies in multiple modules.&lt;/p&gt;

&lt;h3 id=&quot;previous-dependency-config&quot;&gt;Previous dependency config&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;compile &apos;example.dependency:1.0.0&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Hopefully this looks familiar to you. Weâ€™re declaring our dependency on an external library within the module that requires it.&lt;/p&gt;

&lt;h3 id=&quot;new-and-improved-dependency-config&quot;&gt;New and improved dependency config&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;implementation &apos;example.dependency:1.0.0&apos;
// or
api &apos;example.dependency:1.0.0&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;implementation&lt;/strong&gt; â†’ this dependency is only available to entities within this module&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;api&lt;/strong&gt; â†’ this dependency will also be available within any module which depends on this module&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The change is as simple as that. For any dependencies which should be self contained within the module, use &lt;strong&gt;implementation.&lt;/strong&gt; For any dependencies which should also be made available to modules which depend on the module, use &lt;strong&gt;api&lt;/strong&gt;.&lt;/p&gt;

&lt;h2 id=&quot;architecture&quot;&gt;Architecture&lt;/h2&gt;

&lt;p&gt;We can now replace &lt;strong&gt;compile&lt;/strong&gt; with either &lt;strong&gt;implementation&lt;/strong&gt; or &lt;strong&gt;api&lt;/strong&gt; depending on the structure of our modules and setup a chain of dependencies which makes sense for our architecture.&lt;/p&gt;

&lt;p&gt;Here are a couple of simple example projects with alternate module architectures and the correct usage in each case.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn-images-1.medium.com/max/2000/1*EEegKqKKxv7Dn_QDJThpQQ.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Hereâ€™s a simple app which has only a single module: app. In this case we only need to replace compile with implementation as there are no other modules which might be able to share dependencies.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn-images-1.medium.com/max/2000/1*J6UWH17GbvwAsCX6INFeZA.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Hereâ€™s a more complex app with three modules: &lt;strong&gt;app&lt;/strong&gt;, &lt;strong&gt;tv&lt;/strong&gt; and &lt;strong&gt;core&lt;/strong&gt;.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Both app and tv modules depend on the core module&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;only the core module should interact directly with Retrofit, so we use &lt;strong&gt;implementation&lt;/strong&gt; to ensure that the library is inaccessible from app and tv.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;RxJava is required in all three modules, therefore we can use the &lt;strong&gt;api&lt;/strong&gt; config to ensure that all projects depending on core can access RxJava.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Hopefully a similar structure can apply to your project, but please leave a comment if you have a problem working out the correct dependency flow.&lt;/p&gt;

&lt;h2 id=&quot;notes&quot;&gt;Notes&lt;/h2&gt;

&lt;p&gt;I recently answered this question on &lt;a href=&quot;https://stackoverflow.com/questions/31841259/how-do-i-share-dependencies-between-android-modules&quot;&gt;StackOverflow &lt;/a&gt;which inspired this post, check out the &lt;a href=&quot;https://stackoverflow.com/questions/31841259/how-do-i-share-dependencies-between-android-modules&quot;&gt;question &lt;/a&gt;for further discussion and the older solutions.&lt;/p&gt;

&lt;p&gt;If youâ€™re not yet taking advantage of a modularised android project, check out this &lt;a href=&quot;https://medium.freecodecamp.org/how-modularisation-affects-build-time-of-an-android-application-43a984ce9968&quot;&gt;detailed blog post&lt;/a&gt; for detailed information on the build time improvements.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Thanks for reading, please let me know if Iâ€™ve missed anything or if you have any further tips.&lt;/em&gt;&lt;/p&gt;
</description>
        <pubDate>Sun, 28 Oct 2018 00:00:00 -0700</pubDate>
        <link>http://localhost:4000/blog/Handling-Gradle-dependencies-in-modularised-Android-projects.html</link>
        <guid isPermaLink="true">http://localhost:4000/blog/Handling-Gradle-dependencies-in-modularised-Android-projects.html</guid>
        
        
        <category>blog</category>
        
      </item>
    
      <item>
        <title>Add Dagger To A Simple Android App</title>
        <description>&lt;p&gt;&lt;em&gt;23rd July, 2018&lt;/em&gt;&lt;/p&gt;

&lt;h3 id=&quot;a-simple-guide-for-adding-dagger2-to-a-modern-mvvm-android-project&quot;&gt;A simple guide for adding Dagger2 to a modern MVVM Android project.&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn-images-1.medium.com/max/2000/1*i86yVhBOw2rft8eDEpHFSQ.jpeg&quot; alt=&quot;A delicious selection of self contained, testable food modules.&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;intro&quot;&gt;Intro&lt;/h2&gt;

&lt;p&gt;Dagger is always one of the first libraries I add when starting new Android projects. Not only does is simplify the process of adding further libraries, it doesnâ€™t have many pre-requisites and it forces you to think about project architecture early on in the setup stages.&lt;/p&gt;

&lt;p&gt;However, itâ€™s hard to find a source which covers the latest features like &lt;strong&gt;@ContributesAndroidInjector&lt;/strong&gt; &amp;amp; &lt;strong&gt;DaggerActivity&lt;/strong&gt; in a Kotlin code base. This article aims to walk you through the implementation step by step, explaining the how and why along the way.&lt;/p&gt;

&lt;p&gt;The app structure was based on &lt;a href=&quot;https://medium.com/@rahul.singh?source=post_header_lockup&quot;&gt;Rahul Singh&lt;/a&gt;â€™s &lt;a href=&quot;https://medium.com/@rahul.singh/clean-architecture-kotlin-dagger-2-rxjava-mvvm-and-unit-testing-dc05dcdf3ce6&quot;&gt;Clean Architecture project,&lt;/a&gt; which is a great example of a modern Android app architecture. This post focuses on the dependency injection section of the architecture and I recommend reading his post for a better understanding of the rest of the components that make a modern Android application.&lt;/p&gt;

&lt;p&gt;Iâ€™m using MVVM here, but you can easily apply the steps to an MVP project as the Dagger implementation remains largely the same.&lt;/p&gt;

&lt;p&gt;Implementing Dagger is actually quite straight forward when you take the time to understand each step. Iâ€™ll begin by showing the starting project, but feel free to skip to the &lt;strong&gt;Dagger Setup&lt;/strong&gt; section if youâ€™re just looking for a reference guide.&lt;/p&gt;

&lt;h2 id=&quot;pre-dagger&quot;&gt;Pre-Dagger&lt;/h2&gt;

&lt;p&gt;To demonstrate the implementation of Dagger weâ€™ll need a simple app that would benefit from the addition. Lets take a look at the starting app weâ€™ll be improving with Dagger.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/Julesssss/Modern-Dagger/tree/688d66e5a5ece733cad9c8407990febaf6d08860&quot;&gt;Modern-Dagger repositiory&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn-images-1.medium.com/max/4740/1*neo7ixQ-42QVeX0CMdGbCQ.png&quot; alt=&quot;A bare bones app that could benefit from Dependency Injection&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The app consists of an Application, MainActivity, MainViewModel and an AnalyticsHelper class. Analytics tracking is a common client request and can touch almost anywhere in your code base, so itâ€™s a prime example of an object that would benefit from dependency injection â€” imagine changing the constructor of the AnalyticsHelper, then having to modify each class in which is was instantiated.&lt;/p&gt;

&lt;p&gt;In our simplified project the AnalyticsHelper prints out the page parameter string along with the hash code of the object itself. Weâ€™ll use this hash code to demonstrate that weâ€™re accessing the same instance of the object after implementing Dagger. Running the app at this point outputs the following logs:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Tracking page:
&apos;Application-onCreate&apos;, from AnalyticsHelper:       **757408072**
&apos;MainActivity-onCreate&apos;, from AnalyticsHelper:      **424961346**
&apos;ViewModel-initialisation&apos;, from AnalyticsHelper:   **315976019**
&apos;MainActivity-observingData&apos;, from AnalyticsHelper: **424961346**
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As you can see, Application, Activity and ViewModel each have a different instance of the AnalyticsHelper class. After implementing Dagger, the same object instance will be used. This is one of the simplest changes we can demonstrate with Dagger, but is a great starting point. Lets get started!&lt;/p&gt;

&lt;h2 id=&quot;implementation&quot;&gt;Implementation&lt;/h2&gt;

&lt;p&gt;As always, weâ€™ll need to add the required dependencies first. As weâ€™re using Kotlin we need to ensure that kotlin-kapt is declared as a plugin so that annotation processing works correctly.&lt;/p&gt;

&lt;p&gt;After a sync, we can specify our dependencies in a class annotated with @Module. We use the @Provides annotation on a function to do this, while @Singleton insures that the same instance is returned. Typically the function name is the class name prefixed with â€˜providesâ€™, but itâ€™s not strictly necessary to do so.&lt;/p&gt;

&lt;p&gt;Next, weâ€™ll need to create an &lt;strong&gt;AppComponent&lt;/strong&gt; interface. This is where we set module types, giving Dagger the dependencies it needs to build the object graph. We only have one custom module â€” &lt;strong&gt;AppModule&lt;/strong&gt;, &lt;strong&gt;AndroidInjectionModule&lt;/strong&gt; is an internal class which maps the graph to Activities (more about this later).&lt;/p&gt;

&lt;p&gt;Now we need to modify our Application class, changing itâ€™s super-class to DaggerApplication, implementing the applicationInjector function and using the @Inject annotation on the AnalyticsHelper parameter so that Dagger will construct the object for us.&lt;/p&gt;

&lt;p&gt;In order to link MainActivity to the dependency graph, weâ€™ll need a second Module which will contain individual Activity dependencies. Currently, weâ€™re not declaring any specific dependencies, but weâ€™ll create the structure now for future reference.&lt;/p&gt;

&lt;p&gt;We use @ContributesAndroidInjector to set the modules for the MainActivity and will create a similar function for any additional Activities. These modules are submodules of AppModule, so any dependencies will only be available to the returned activity, whereas all AppModule dependencies will be available to the Activities.&lt;/p&gt;

&lt;p&gt;Finally, ensure you add the ActivityModule to the list of modules declared in AppComponent&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;@Singleton @Component(modules = [(AndroidInjectionModule::class), **(ActivityBuilder::class)**, (AppModule::class)])
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;singleton-analyticshelper&quot;&gt;Singleton AnalyticsHelper&lt;/h2&gt;

&lt;p&gt;Now when we run the app, we can see that Dagger is returning the same AnalyticsHelper instance to Application and MainActivity!&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&apos;Application-onCreate&apos;, from AnalyticsHelper:       **757408072**.
&apos;MainActivity-onCreate&apos;, from AnalyticsHelper:      **757408072**.
&apos;ViewModel-initialisation&apos;, from AnalyticsHelper:   **705483104**.
&apos;MainActivity-observingData&apos;, from AnalyticsHelper: **757408072**.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The exception being the ViewModel, which is still creating a new instance of the object. This requires a few extra steps, which weâ€™ll cover in the future! In the meantime, check out the project in itâ€™s current state below.
&lt;a href=&quot;https://github.com/Julesssss/Modern-Dagger&quot;&gt;Modern-Dagger repository&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Thanks for reading, please feel free to suggest changes or improvements!&lt;/em&gt;&lt;/p&gt;
</description>
        <pubDate>Mon, 23 Jul 2018 00:00:00 -0700</pubDate>
        <link>http://localhost:4000/blog/add-Dagger-to-a-simple-Android-app.html</link>
        <guid isPermaLink="true">http://localhost:4000/blog/add-Dagger-to-a-simple-Android-app.html</guid>
        
        
        <category>blog</category>
        
      </item>
    
      <item>
        <title>Formula 1 Tv</title>
        <description>&lt;p class=&quot;project-type&quot;&gt;Professional project&lt;/p&gt;

&lt;p&gt;Watch live ad historic Formula 1 races, with live timings/leaderboard and multiple drive on-board cameras concurrently.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../assets/images/f1tv-current-season.png#appscreen&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;../../assets/images/f1tv-past-season.png#appscreen&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Sun, 01 Jul 2018 00:00:00 -0700</pubDate>
        <link>http://localhost:4000/project/formula-1-tv.html</link>
        <guid isPermaLink="true">http://localhost:4000/project/formula-1-tv.html</guid>
        
        
        <category>project</category>
        
      </item>
    
  </channel>
</rss>
